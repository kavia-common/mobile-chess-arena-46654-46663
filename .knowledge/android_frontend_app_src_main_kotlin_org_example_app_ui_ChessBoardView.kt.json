{"is_source_file": true, "format": "Kotlin", "description": "A custom Android view class 'ChessBoardView' that provides a graphical representation of a chess board, including drawing tiles, pieces, highlights for moves and checks, and handling user interactions like tapping on squares.", "external_files": ["org.example.app.chess.Board", "org.example.app.chess.Move", "org.example.app.chess.Rules", "org.example.app.chess.toUnicode", "org.example.app.game.Highlight", "org.example.app.game.Square", "org.example.app.game.GameController"], "external_methods": ["org.example.app.chess.toUnicode"], "published": ["setGameController", "setBoard"], "classes": [{"name": "ChessBoardView", "description": "A custom View subclass that renders a chessboard with pieces, highlights, and manages user interaction through touch events."}], "methods": [{"name": "setGameController", "description": "Assigns a GameController to the view to handle user interactions."}, {"name": "setBoard", "description": "Updates the board position and current highlights, then redraws."}, {"name": "onMeasure", "description": "Ensures the view remains square, based on width and height constraints."}, {"name": "onDraw", "description": "Handles all custom drawing: tiles, pieces, last move highlights, check indicator, selection highlights, and legal move indicators."}, {"name": "onTouchEvent", "description": "Detects tap events on the squares and notifies the controller."}], "calls": ["canvas.drawRect", "canvas.drawText", "canvas.drawCircle", "controller?.onSquareTapped"], "search-terms": ["ChessBoardView", "custom chess board view", "Android Kotlin chess UI", "highlight last move", "tap to move", "board flipping", "highlight in check", "legal move indicators"], "state": 2, "file_id": 16, "knowledge_revision": 37, "git_revision": "", "hash": "91d03c026f27d910293be073b6f22709", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/ui/ChessBoardView.kt", "revision_history": [{"37": ""}]}