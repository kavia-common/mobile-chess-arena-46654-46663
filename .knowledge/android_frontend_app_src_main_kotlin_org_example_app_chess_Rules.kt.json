{"is_source_file": true, "format": "Kotlin", "description": "This file defines the core rules and legal move generation logic for a chess engine. It includes functions for determining legal moves, pseudo-legal moves, move validation (including check filtering), and attack detection, with particular attention to piece-specific movement rules, castling, en passant, and attack detection.", "external_files": ["Board.kt", "Move.kt", "Piece.kt", "Side.kt", "PieceType.kt"], "external_methods": ["Board.doMove()", "Board.undoMove()", "isInCheck()", "isSquareAttacked()", "isAttackedBySlider()", "pawnMoves()", "kingMoves()", "jumpMoves()", "slideMoves()", "addPawnMoveWithPromo()"], "published": ["Rules.legalMoves", "Rules.pseudoLegal", "Rules.isInCheck", "Rules.isSquareAttacked"], "classes": [], "methods": [{"name": "legalMoves", "description": "Generates all legal moves for the current position by filtering pseudo-legal moves that leave the king in check."}, {"name": "pseudoLegal", "description": "Generates all pseudo-legal moves without considering checks."}, {"name": "isInCheck", "description": "Determines if the given side's king is in check."}, {"name": "isSquareAttacked", "description": "Checks if a given square is attacked by the specified side."}], "calls": ["board.doMove()", "board.undoMove()", "isInCheck()", "isSquareAttacked()", "isAttackedBySlider()", "pawnMoves()", "kingMoves()", "jumpMoves()", "slideMoves()", "addPawnMoveWithPromo()"], "search-terms": ["pseudoLegal", "filter checks", "castling rights", "en passant", "attack detection", "move generation", "knightOffsets", "directions"], "state": 2, "file_id": 22, "knowledge_revision": 46, "git_revision": "", "hash": "91b5f34a074a5e59d44db645f35ea38b", "format-version": 4, "code-base-name": "android_frontend", "filename": "android_frontend/app/src/main/kotlin/org/example/app/chess/Rules.kt", "revision_history": [{"46": ""}]}